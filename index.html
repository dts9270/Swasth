<!DOCTYPE html><html lang="mr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Blood Test Tracking - India Health Mission</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: linear-gradient(#e8f3ff, #dff7e3, #fff0e0);
    }.header {
  background: linear-gradient(90deg, #ff9933, #ffffff, #138808);
  padding: 18px;
  text-align: center;
  color: #000;
  font-weight: 700;
  font-size: 22px;
  letter-spacing: 1px;
  box-shadow: 0 3px 10px rgba(0,0,0,0.2);
}

/* TABS */
.tab-btns {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
  background: #fff;
  padding: 12px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
.tab-btns button {
  padding: 10px 16px;
  border: none;
  background: #0057b7;
  color: white;
  font-size: 14px;
  border-radius: 6px;
  cursor: pointer;
  transition: 0.3s;
  flex: 1 1 auto;
  min-width: 120px;
}
.tab-btns button:hover {
  background: #003f82;
}

.container {
  width: 95%;
  max-width: 800px;
  margin: 15px auto;
  background: white;
  padding: 18px;
  border-radius: 12px;
  box-shadow: 0 5px 25px rgba(0,0,0,0.15);
}

.tab { display: none; }
.active { display: block; }

label { font-weight: 600; font-size: 14px; }

input, select, textarea {
  width: 100%;
  padding: 10px;
  border-radius: 6px;
  border: 1px solid #ccc;
  margin-bottom: 15px;
  font-size: 14px;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
  font-size: 13px;
}

th {
  background: #0057b7;
  color: white;
  padding: 10px 6px;
}
td {
  padding: 8px 6px;
  border: 1px solid #ddd;
  word-wrap: break-word;
}

.india-badge {
  text-align: center;
  margin-top: 10px;
  font-size: 13px;
  color: #444;
  font-weight: 500;
  padding-bottom: 20px;
}

/* MOBILE OPTIMIZATION */
@media(max-width: 600px){
  .header { font-size: 18px; padding: 14px; }
  h2 { font-size: 18px; }
  .tab-btns button { font-size: 13px; padding: 10px; }
  input, select, textarea { font-size: 13px; }
  th, td { font-size: 12px; padding: 6px; }
}

  </style>
</head>
<body>  <div class="header">üáÆüá≥ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§ï‡•ç‡§∞‡§æ‡§Ç‡§§‡•Ä ‡§µ‡§∞‡•ç‡§∑ 2026 ‚Äì Blood Test Tracking System</div>  <div class="tab-btns">
    <button onclick="openTab('tab1')">‚ûä ‡§≤‡•ã‡§ï‡§æ‡§Ç‡§ö‡•Ä ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä</button>
    <button onclick="openTab('tab2')">‚ûã ‡§ü‡•á‡§∏‡•ç‡§ü ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏ + ‡§ï‡•â‡§≤</button>
    <button onclick="openTab('tab3')">‚ûå ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§Ö‡§™‡§≤‡•ã‡§°</button>
    <button onclick="openTab('tab4')">‚ûç Dashboard</button>
    <button onclick="openTab('tab5')">‚ûé Team Login</button>
  </div>  <!-- TAB 1 -->  <div id="tab1" class="tab active container">
    <h2>üßë‚Äçü§ù‚Äçüßë 1) ‡§≤‡•ã‡§ï‡§æ‡§Ç‡§ö‡•Ä ‡§¨‡•á‡§∏‡§ø‡§ï ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä</h2>
    <form id="form1">
      <label>‡§®‡§æ‡§µ:</label>
      <input type="text" id="name" required /><label>‡§µ‡§Ø:</label>
  <input type="number" id="age" />

  <label>‡§∂‡§π‡§∞:</label>
  <input type="text" id="city" />

  <label>‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤ ‡§®‡§Ç‡§¨‡§∞:</label>
  <input type="text" id="mobile" />

  <button type="button" onclick="pickContact()" style="background:#ff9933; color:white; padding:10px 14px; border:none; border-radius:6px; cursor:pointer; margin-bottom:10px;">üì± Contact Pick</button>

  <button type="button" onclick="savePerson()" style="background:#138808; color:white; padding:12px 20px; border:none; border-radius:6px; cursor:pointer; font-size:16px;">Save</button>
</form>

<h3>Saved Records</h3>
<table id="listTable">
  <tr><th>‡§®‡§æ‡§µ</th><th>‡§µ‡§Ø</th><th>‡§∂‡§π‡§∞</th><th>‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤</th></tr>
</table>

  </div>  <!-- TAB 4 Dashboard -->  <div id="tab4" class="tab container">
    <h2>üìä Dashboard</h2>
    <div id="dashTotal">Total: 0</div>
    <div id="dashCheck">Check: 0</div>
    <div id="dashNot">Not Check: 0</div>
  </div>  <!-- TAB 5 Login -->  <div id="tab5" class="tab container">
    <h2>üîê Team Login / Signup</h2><label>Mobile:</label>
<input type="text" id="authMobile" />

<label>Password:</label>
<input type="password" id="authPass" />

<button onclick="teamSignup()" style="background:#138808;color:white;padding:10px 14px;border:none;border-radius:6px;">Sign Up</button>
<button onclick="teamLogin()" style="background:#0057b7;color:white;padding:10px 14px;border:none;border-radius:6px;">Login</button>

<p id="authMsg" style="color:red;margin-top:10px;"></p>

  </div>  <!-- TAB 2 --> -->  <div id="tab2" class="tab container">
    <h2>ü©∏ 2) Blood Sample Status</h2><table id="sampleTable">
  <tr>
    <th>‡§®‡§æ‡§µ</th>
    <th>‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤</th>
    <th>Sample Status</th>
  </tr>
</table>

  </div><script>
  // Auto-fill blood sample table from tab1 list
  function refreshSampleTable(){
    let mainTable = document.getElementById('listTable');
    let sampleTable = document.getElementById('sampleTable');

    sampleTable.innerHTML = '<tr><th>‡§®‡§æ‡§µ</th><th>‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤</th><th>Sample Status</th></tr>';

    for(let i = 1; i < mainTable.rows.length; i++){
      let row = sampleTable.insertRow();
      row.insertCell(0).innerHTML = mainTable.rows[i].cells[0].innerHTML;
      row.insertCell(1).innerHTML = mainTable.rows[i].cells[3].innerHTML;
      row.insertCell(2).innerHTML = `
        <select>
          <option>Check</option>
          <option>Not Check</option>
        </select>
        <a href=\"tel:${mainTable.rows[i].cells[3].innerHTML}\" style=\"color:#0057b7; font-weight:600; margin-left:8px;\">üìû Call</a>
      `;;
    }
  }

  // Refresh when switching to Tab 2
  function openTab(tabId){
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.getElementById(tabId).classList.add('active');
    if(tabId === 'tab2'){ refreshSampleTable(); }
  }
</script>  <!-- TAB 3 -->  <div id="tab3" class="tab container">
    <h2>üìÑ 3) ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§Ö‡§™‡§≤‡•ã‡§° + AI ‡§Ö‡§®‡§æ‡§≤‡§ø‡§∏‡§ø‡§∏</h2><label>‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü Upload:</label>
<input type="file" />

<p>üëâ ‡§Ø‡§æ ‡§∏‡•á‡§ï‡•ç‡§∂‡§®‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§®‡§Ç‡§§‡§∞ Automated CBC / LFT / Lipid / Thyroid AI Analysis ‡§ú‡•ã‡§°‡§≤‡§æ ‡§ú‡§æ‡§à‡§≤.</p>

  </div>  <div class="india-badge">Made with üáÆüá≥ for India's Anaemia-Free Revolution</div>  <script>
    function openTab(tabId){
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.getElementById(tabId).classList.add('active');
    }

    function savePerson(){
      let name = document.getElementById('name').value;
      let age = document.getElementById('age').value;
      let city = document.getElementById('city').value;
      let mobile = document.getElementById('mobile').value;

      let table = document.getElementById('listTable');
      let row = table.insertRow();
      row.insertCell(0).innerHTML = name;
      row.insertCell(1).innerHTML = age;
      row.insertCell(2).innerHTML = city;
      row.insertCell(3).innerHTML = mobile;

      document.getElementById('form1').reset();

      // Auto-update Tab 2 instantly
      refreshSampleTable();
    }
  </script><script>
    function pickContact(){
      alert('üì± Contact Pick feature demo mode ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§Ü‡§π‡•á ‚Äî ‡§Æ‡•Ä ‡§Ø‡§æ‡§≤‡§æ full mobile contact access compatible ‡§ï‡§∞‡•Ç‡§® ‡§¶‡•á‡§à‡§®!');
    }
</script><script type="module">
  // Firebase SDK
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAhg7nlZjHxOojoBZeBNIAjKhDwzXzr1io",
    authDomain: "swasth-80320.firebaseapp.com",
    projectId: "swasth-80320",
    storageBucket: "swasth-80320.firebasestorage.app",
    messagingSenderId: "143665591308",
    appId: "1:143665591308:web:99ce02ee034d041dd6ea29"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  console.log("Firebase Connected ‚úî");
</script><script type="module">
  /* ---------------------- Firebase INIT ----------------------- */
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, updateDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
  import { getStorage, ref, uploadBytes } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAhg7nlZjHxOojoBZeBNIAjKhDwzXzr1io",
    authDomain: "swasth-80320.firebaseapp.com",
    projectId: "swasth-80320",
    storageBucket: "swasth-80320.firebasestorage.app",
    messagingSenderId: "143665591308",
    appId: "1:143665591308:web:99ce02ee034d041dd6ea29"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const storage = getStorage(app);

  console.log("Firebase Connected ‚úî");

  /* ---------------------- SAVE PERSON ----------------------- */
  window.savePerson = async function(){
    let person = {
      name: document.getElementById('name').value,
      age: document.getElementById('age').value,
      city: document.getElementById('city').value,
      mobile: document.getElementById('mobile').value,
      status: "Not Check"
    };

    await addDoc(collection(db, "people"), person);
    alert("Saved to Cloud ‚úî");
    document.getElementById('form1').reset();
    loadPeople();
  }

  /* ---------------------- LOAD PEOPLE ----------------------- */
  async function loadPeople(){
    const querySnapshot = await getDocs(collection(db, "people"));
    let listTable = document.getElementById('listTable');
    listTable.innerHTML = `<tr><th>‡§®‡§æ‡§µ</th><th>‡§µ‡§Ø</th><th>‡§∂‡§π‡§∞</th><th>‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤</th></tr>`;

    let sampleTable = document.getElementById('sampleTable');
    sampleTable.innerHTML = `<tr><th>‡§®‡§æ‡§µ</th><th>‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤</th><th>Sample Status</th><th>Call</th></tr>`;

    querySnapshot.forEach((docSnap) => {
      let p = docSnap.data();

      // TAB 1
      let row = listTable.insertRow();
      row.insertCell(0).innerHTML = p.name;
      row.insertCell(1).innerHTML = p.age;
      row.insertCell(2).innerHTML = p.city;
      row.insertCell(3).innerHTML = p.mobile;

      // TAB 2
      let r2 = sampleTable.insertRow();
      r2.insertCell(0).innerHTML = p.name;
      r2.insertCell(1).innerHTML = p.mobile;
      r2.insertCell(2).innerHTML = `
        <select onchange="updateStatus('${docSnap.id}', this.value)">
          <option ${p.status==='Check'?'selected':''}>Check</option>
          <option ${p.status==='Not Check'?'selected':''}>Not Check</option>
        </select>
      `;
      r2.insertCell(3).innerHTML = `<a href='tel:${p.mobile}' style='color:#0057b7;font-weight:600;'>üìû</a>`;
    });
  }

  /* ---------------------- UPDATE STATUS ----------------------- */
  window.updateStatus = async function(id, status){
    const refDoc = doc(db, "people", id);
    await updateDoc(refDoc, { status: status });
    alert("Status Updated ‚úî");
  }

  /* ---------------------- REPORT UPLOAD ----------------------- */
  window.uploadReport = async function(file){
    if(!file) return alert("Select file first");
    const storageRef = ref(storage, 'reports/' + file.name);
    await uploadBytes(storageRef, file);
    alert("Report Uploaded ‚úî");
  }

  loadPeople();
</script><script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, updateDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAhg7nlZjHxOojoBZeBNIAjKhDwzXzr1io",
    authDomain: "swasth-80320.firebaseapp.com",
    projectId: "swasth-80320",
    storageBucket: "swasth-80320.firebasestorage.app",
    messagingSenderId: "143665591308",
    appId: "1:143665591308:web:99ce02ee034d041dd6ea29"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  const auth = getAuth(app);

  window.teamSignup = async function(){
    let mobile = document.getElementById('authMobile').value;
    let pass = document.getElementById('authPass').value;

    let email = mobile + "@swasth.com";

    try{
      await createUserWithEmailAndPassword(auth, email, pass);
      document.getElementById('authMsg').innerHTML = "Signup Successful ‚úî";
    }catch(e){ document.getElementById('authMsg').innerHTML = e.message; }
  }

  window.teamLogin = async function(){
    let mobile = document.getElementById('authMobile').value;
    let pass = document.getElementById('authPass').value;
    let email = mobile + "@swasth.com";

    try{
      await signInWithEmailAndPassword(auth, email, pass);
      document.getElementById('authMsg').innerHTML = "Login Successful ‚úî";
    }catch(e){ document.getElementById('authMsg').innerHTML = e.message; }
  }
</script></body>
</html>
